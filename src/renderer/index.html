<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline';">
    <title>Multi Grep Replacer</title>
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body data-theme="auto" class="respect-motion-preference">
    <div class="app-container" role="application" aria-label="Multi Grep Replacer Application">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="app-header" role="banner">
            <h1 class="app-title">Multi Grep Replacer</h1>
            <div class="header-controls" role="toolbar" aria-label="ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š">
                <button 
                    class="theme-toggle btn-hover-lift" 
                    id="themeToggle" 
                    type="button"
                    aria-label="ãƒ†ãƒ¼ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹"
                    title="ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ (ãƒ©ã‚¤ãƒˆ/ãƒ€ãƒ¼ã‚¯/è‡ªå‹•)"
                    data-theme-toggle>ğŸŒ™</button>
                <button 
                    class="settings-btn btn-hover-lift" 
                    id="settingsBtn" 
                    type="button"
                    aria-label="è¨­å®šã‚’é–‹ã"
                    title="è¨­å®š">âš™ï¸</button>
            </div>
        </header>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <main class="app-main" role="main" aria-label="ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„">
            <!-- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ•ã‚©ãƒ«ãƒ€é¸æŠ -->
            <section class="folder-section" aria-labelledby="folderSectionTitle">
                <h2 id="folderSectionTitle" class="section-title">ğŸ“ Target Folder</h2>
                <div class="folder-input-group input-group" role="group" aria-labelledby="folderSectionTitle">
                    <label for="folderPath" class="sr-only">å¯¾è±¡ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹</label>
                    <input 
                        type="text" 
                        id="folderPath" 
                        class="folder-input form-input form-input-animated" 
                        placeholder="/path/to/project/folder" 
                        readonly
                        aria-describedby="folderPathHelp"
                        data-folder-input>
                    <button 
                        class="browse-btn btn btn-hover-lift" 
                        id="browseBtn"
                        type="button"
                        aria-label="ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ"
                        data-browse-folder>ğŸ“‚ Browse...</button>
                </div>
                <div id="folderPathHelp" class="sr-only">ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢å¯¾è±¡ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠã—ã¦ãã ã•ã„</div>
            </section>

            <!-- ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ãƒ•ã‚£ãƒ«ã‚¿ -->
            <section class="extensions-section" aria-labelledby="extensionsSectionTitle">
                <h2 id="extensionsSectionTitle" class="section-title">
                    ğŸ” File Extensions 
                    <small>(comma-separated, blank = all files)</small>
                </h2>
                <div class="form-group">
                    <label for="fileExtensions" class="sr-only">å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­</label>
                    <input 
                        type="text" 
                        id="fileExtensions" 
                        class="extensions-input form-input form-input-animated" 
                        placeholder=".html,.css,.js,.php,.md,.json" 
                        value=".html,.css,.js,.php,.md,.json"
                        aria-describedby="extensionsHelp"
                        data-extensions-input>
                    <div id="extensionsHelp" class="sr-only">å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ç©ºæ¬„ã®å ´åˆã¯å…¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¯¾è±¡ã§ã™</div>
                </div>
            </section>

            <!-- ç½®æ›ãƒ«ãƒ¼ãƒ« -->
            <section class="rules-section" aria-labelledby="rulesSectionTitle">
                <div class="rules-header">
                    <h2 id="rulesSectionTitle" class="section-title">âš™ï¸ Replacement Rules</h2>
                    <div class="template-controls">
                        <label for="templateSelect" class="sr-only">ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ</label>
                        <select 
                            class="template-select form-select" 
                            id="templateSelect"
                            aria-label="ç½®æ›ãƒ«ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ"
                            data-template-select>
                            <option value="">ğŸ“‹ Templates â–¼</option>
                            <option value="web-development">Web Development</option>
                            <option value="css-modernization">CSS Modernization</option>
                            <option value="variable-rename">Variable Rename</option>
                        </select>
                    </div>
                </div>
                <div 
                    class="rules-container" 
                    id="rulesContainer"
                    role="list"
                    aria-labelledby="rulesSectionTitle"
                    aria-describedby="rulesHelp"
                    data-rules-container>
                    <!-- ç½®æ›ãƒ«ãƒ¼ãƒ«ã¯JavaScriptã§å‹•çš„ã«è¿½åŠ  -->
                </div>
                <div id="rulesHelp" class="sr-only">ç½®æ›ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ã§ãã¾ã™ã€‚ä¸Šã‹ã‚‰é †ç•ªã«å®Ÿè¡Œã•ã‚Œã¾ã™</div>
                <button 
                    class="add-rule-btn btn btn-outline btn-hover-lift" 
                    id="addRuleBtn"
                    type="button"
                    aria-label="æ–°ã—ã„ç½®æ›ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ "
                    data-add-rule>â• Add new rule</button>
            </section>

            <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
            <section class="preview-section" aria-labelledby="previewSectionTitle">
                <h2 id="previewSectionTitle" class="sr-only">å®Ÿè¡Œãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h2>
                <div 
                    class="preview-text" 
                    id="previewText"
                    role="status"
                    aria-live="polite"
                    aria-labelledby="previewSectionTitle"
                    data-preview-display>ğŸ“Š Preview: Ready to scan files...</div>
            </section>
        </main>

        <!-- ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼‰ -->
        <footer class="app-footer" role="contentinfo">
            <div class="action-buttons-group" role="group" aria-label="æ“ä½œãƒœã‚¿ãƒ³">
                <button 
                    class="action-btn btn btn-secondary btn-hover-lift" 
                    id="loadConfigBtn"
                    type="button"
                    aria-label="è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€"
                    data-load-config>ğŸ’¾ Load Config</button>
                <button 
                    class="action-btn btn btn-secondary btn-hover-lift" 
                    id="saveConfigBtn"
                    type="button"
                    aria-label="è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹"
                    data-save-config>ğŸ’¾ Save Config</button>
                <button 
                    class="action-btn primary btn btn-primary btn-hover-lift" 
                    id="executeBtn"
                    type="button"
                    aria-label="ç½®æ›ã‚’å®Ÿè¡Œã™ã‚‹"
                    data-execute-replacement>ğŸš€ Execute Replacement</button>
            </div>
        </footer>

        <!-- é€²æ—ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆåˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤ºï¼‰ -->
        <div 
            class="modal modal-enter" 
            id="progressModal" 
            style="display: none;"
            role="dialog"
            aria-modal="true"
            aria-labelledby="progressModalTitle"
            aria-describedby="progressModalDescription"
            data-progress-modal>
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="progressModalTitle" class="modal-title">ğŸš€ Executing Replacements...</h2>
                </div>
                <div class="modal-body">
                    <div id="progressModalDescription" class="sr-only">ç½®æ›å‡¦ç†ã®é€²æ—çŠ¶æ³ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™</div>
                    <div class="progress progress-animated" role="progressbar" aria-labelledby="progressText">
                        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                    </div>
                    <p class="progress-text" id="progressText" aria-live="polite">0% (0/0 files)</p>
                    <p class="current-file" id="currentFile" aria-live="polite">Preparing...</p>
                </div>
                <div class="modal-footer">
                    <button 
                        class="action-btn btn btn-secondary btn-hover-lift" 
                        id="pauseBtn"
                        type="button"
                        aria-label="å‡¦ç†ã‚’ä¸€æ™‚åœæ­¢"
                        data-pause-processing>â¸ï¸ Pause</button>
                    <button 
                        class="action-btn btn btn-outline btn-hover-lift" 
                        id="stopBtn"
                        type="button"
                        aria-label="å‡¦ç†ã‚’åœæ­¢"
                        data-stop-processing>â¹ï¸ Stop</button>
                </div>
            </div>
        </div>

        <!-- çµæœãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆåˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤ºï¼‰ -->
        <div 
            class="modal modal-enter" 
            id="resultModal" 
            style="display: none;"
            role="dialog"
            aria-modal="true"
            aria-labelledby="resultModalTitle"
            aria-describedby="resultModalDescription"
            data-result-modal>
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="resultModalTitle" class="modal-title">âœ… Replacement Completed!</h2>
                    <button 
                        class="modal-close" 
                        type="button" 
                        aria-label="çµæœãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹"
                        data-close-result-modal>Ã—</button>
                </div>
                <div class="modal-body">
                    <div id="resultModalDescription" class="sr-only">ç½®æ›å‡¦ç†ã®å®Ÿè¡Œçµæœã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™</div>
                    <div 
                        class="result-summary" 
                        id="resultSummary"
                        aria-labelledby="resultSummaryTitle"
                        data-result-summary>
                        <h3 id="resultSummaryTitle" class="sr-only">å®Ÿè¡Œçµæœã‚µãƒãƒªãƒ¼</h3>
                        <!-- çµæœã¯JavaScriptã§å‹•çš„ã«è¡¨ç¤º -->
                    </div>
                    <div 
                        class="result-details" 
                        id="resultDetails"
                        aria-labelledby="resultDetailsTitle"
                        data-result-details>
                        <h3 id="resultDetailsTitle" class="sr-only">è©³ç´°ãªå®Ÿè¡Œçµæœ</h3>
                        <!-- è©³ç´°ãªçµæœã¯JavaScriptã§å‹•çš„ã«è¡¨ç¤º -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button 
                        class="action-btn btn btn-secondary btn-hover-lift" 
                        id="exportResultsBtn"
                        type="button"
                        aria-label="çµæœã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"
                        data-export-results>ğŸ“¤ Export Results</button>
                    <button 
                        class="action-btn btn btn-secondary btn-hover-lift" 
                        id="copySummaryBtn"
                        type="button"
                        aria-label="ã‚µãƒãƒªãƒ¼ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼"
                        data-copy-summary>ğŸ“‹ Copy Summary</button>
                    <button 
                        class="action-btn primary btn btn-primary btn-hover-lift" 
                        id="closeResultBtn"
                        type="button"
                        aria-label="çµæœãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹"
                        data-close-result-modal>âœ… Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/utils.js"></script>
    <script src="js/error-handler.js"></script>
    <script src="js/api-client.js"></script>
    <script src="js/config-manager.js"></script>
    <script src="js/app.js"></script>

    <!-- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šï¼šã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ç”¨è¿½åŠ æƒ…å ± -->
    <div aria-live="polite" aria-atomic="true" class="sr-only" id="globalAnnouncements"></div>
</body>
</html>