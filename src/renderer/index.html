<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi Grep Replacer</title>
    <link rel="stylesheet" href="css/main.css" />

    <!-- セキュリティヘッダー -->
    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'self';
        script-src 'self' 'unsafe-inline';
        style-src 'self' 'unsafe-inline';
        img-src 'self' data:;
        connect-src 'self';
        font-src 'self';
    "
    />
  </head>
  <body>
    <div id="app" class="app-container">
      <!-- アプリヘッダー -->
      <header class="app-header">
        <h1 class="app-title">
          <span class="app-icon">🔍</span>
          Multi Grep Replacer
        </h1>
        <div class="app-status" id="appStatus">
          <span class="status-indicator" id="statusIndicator">⚡</span>
          <span class="status-text" id="statusText">Ready</span>
        </div>
      </header>

      <!-- メインコンテンツ -->
      <main class="main-content">
        <!-- ウェルカムメッセージ -->
        <section class="welcome-section">
          <div class="welcome-content">
            <h2>🎉 Hello World!</h2>
            <p>Multi Grep Replacer (Electron Edition) が正常に起動しました。</p>

            <!-- IPC通信テスト -->
            <div class="test-section">
              <h3>🔧 IPC通信テスト</h3>
              <button id="pingButton" class="test-button">📡 Ping Test</button>
              <div id="pingResult" class="test-result"></div>
            </div>

            <!-- アプリ情報 -->
            <div class="info-section">
              <h3>📊 アプリ情報</h3>
              <button id="infoButton" class="test-button">ℹ️ アプリ情報取得</button>
              <div id="infoResult" class="test-result"></div>
            </div>

            <!-- バージョン情報 -->
            <div class="version-section">
              <h3>🏷️ バージョン情報</h3>
              <button id="versionButton" class="test-button">📋 バージョン確認</button>
              <div id="versionResult" class="test-result"></div>
            </div>

            <!-- 設定管理テスト -->
            <div class="config-section">
              <h3>📋 設定管理テスト</h3>
              <button id="configLoadButton" class="test-button">📖 デフォルト設定読み込み</button>
              <button id="configSaveButton" class="test-button">💾 設定保存テスト</button>
              <button id="configRecentButton" class="test-button">📚 最近の設定確認</button>
              <div id="configResult" class="test-result"></div>
            </div>

            <!-- ファイル操作テスト -->
            <div class="file-section">
              <h3>📁 ファイル操作テスト</h3>
              <button id="folderSelectButton" class="test-button">📂 フォルダ選択</button>
              <button id="fileSearchButton" class="test-button">🔍 ファイル検索</button>
              <button id="fileReadButton" class="test-button">📄 ファイル読み込み</button>
              <div id="fileResult" class="test-result"></div>
            </div>

            <!-- 新しいファイル検索エンジンテスト -->
            <div class="new-search-section">
              <h3>🚀 新ファイル検索エンジンテスト</h3>
              <div class="button-group">
                <button id="newFileSearchButton" class="test-button primary">🚀 新エンジンで検索</button>
                <button id="cancelSearchButton" class="test-button warning">🛑 検索キャンセル</button>
                <button id="searchStatsButton" class="test-button info">📈 統計情報取得</button>
              </div>
              <div id="newSearchResult" class="test-result search-result"></div>
            </div>

            <!-- 置換エンジンテスト -->
            <div class="replacement-section">
              <h3>🔄 置換エンジンテスト</h3>
              <div class="button-group">
                <button id="replacementProcessButton" class="test-button primary">🔄 置換実行</button>
                <button id="replacementPreviewButton" class="test-button info">👀 プレビュー生成</button>
                <button id="cancelReplacementButton" class="test-button warning">🛑 置換キャンセル</button>
                <button id="replacementStatsButton" class="test-button info">📊 統計情報取得</button>
              </div>
              <div class="replacement-rules">
                <h4>🔧 テスト用置換ルール</h4>
                <div class="rule-inputs">
                  <input type="text" id="fromText" placeholder="From (例: old-class)" value="old-class" />
                  <span>→</span>
                  <input type="text" id="toText" placeholder="To (例: new-class)" value="new-class" />
                  <button id="addRuleButton" class="test-button small">➕</button>
                </div>
                <div id="rulesList" class="rules-list"></div>
              </div>
              <div id="replacementResult" class="test-result replacement-result"></div>
            </div>
          </div>
        </section>
      </main>

      <!-- フッター -->
      <footer class="app-footer">
        <div class="footer-content">
          <span class="footer-text"> 🚀 UI応答性目標: <strong>100ms以内</strong> </span>
          <div class="performance-monitor" id="performanceMonitor">
            <span>応答時間: <span id="responseTime">--ms</span></span>
          </div>
        </div>
      </footer>
    </div>

    <!-- JavaScript -->
    <script src="js/app.js"></script>
  </body>
</html>
