<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline';">
    <title>Multi Grep Replacer</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="app-container">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="app-header">
            <h1 class="app-title">Multi Grep Replacer</h1>
            <div class="header-controls">
                <button class="theme-toggle" id="themeToggle" title="ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ">ğŸŒ™</button>
                <button class="settings-btn" id="settingsBtn" title="è¨­å®š">âš™ï¸</button>
            </div>
        </header>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <main class="app-main">
            <!-- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ•ã‚©ãƒ«ãƒ€é¸æŠ -->
            <section class="folder-section">
                <h2>ğŸ“ Target Folder</h2>
                <div class="folder-input-group">
                    <input type="text" id="folderPath" class="folder-input" placeholder="/path/to/project/folder" readonly>
                    <button class="browse-btn" id="browseBtn">ğŸ“‚ Browse...</button>
                </div>
            </section>

            <!-- ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ãƒ•ã‚£ãƒ«ã‚¿ -->
            <section class="extensions-section">
                <h2>ğŸ” File Extensions <small>(comma-separated, blank = all files)</small></h2>
                <input type="text" id="fileExtensions" class="extensions-input" 
                       placeholder=".html,.css,.js,.php,.md,.json" 
                       value=".html,.css,.js,.php,.md,.json">
            </section>

            <!-- ç½®æ›ãƒ«ãƒ¼ãƒ« -->
            <section class="rules-section">
                <div class="rules-header">
                    <h2>âš™ï¸ Replacement Rules</h2>
                    <select class="template-select" id="templateSelect">
                        <option value="">ğŸ“‹ Templates â–¼</option>
                        <option value="web-development">Web Development</option>
                        <option value="css-modernization">CSS Modernization</option>
                        <option value="variable-rename">Variable Rename</option>
                    </select>
                </div>
                <div class="rules-container" id="rulesContainer">
                    <!-- ç½®æ›ãƒ«ãƒ¼ãƒ«ã¯JavaScriptã§å‹•çš„ã«è¿½åŠ  -->
                </div>
                <button class="add-rule-btn" id="addRuleBtn">â• Add new rule</button>
            </section>

            <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
            <section class="preview-section">
                <p class="preview-text" id="previewText">ğŸ“Š Preview: Ready to scan files...</p>
            </section>
        </main>

        <!-- ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼‰ -->
        <footer class="app-footer">
            <button class="action-btn" id="loadConfigBtn">ğŸ’¾ Load Config</button>
            <button class="action-btn" id="saveConfigBtn">ğŸ’¾ Save Config</button>
            <button class="action-btn primary" id="executeBtn">ğŸš€ Execute Replacement</button>
        </footer>

        <!-- é€²æ—ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆåˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤ºï¼‰ -->
        <div class="modal" id="progressModal" style="display: none;">
            <div class="modal-content">
                <h2>ğŸš€ Executing Replacements...</h2>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <p class="progress-text" id="progressText">0% (0/0 files)</p>
                <p class="current-file" id="currentFile">Preparing...</p>
                <div class="modal-actions">
                    <button class="action-btn" id="pauseBtn">â¸ï¸ Pause</button>
                    <button class="action-btn" id="stopBtn">â¹ï¸ Stop</button>
                </div>
            </div>
        </div>

        <!-- çµæœãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆåˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤ºï¼‰ -->
        <div class="modal" id="resultModal" style="display: none;">
            <div class="modal-content">
                <h2>âœ… Replacement Completed!</h2>
                <div class="result-summary" id="resultSummary">
                    <!-- çµæœã¯JavaScriptã§å‹•çš„ã«è¡¨ç¤º -->
                </div>
                <div class="result-details" id="resultDetails">
                    <!-- è©³ç´°ãªçµæœã¯JavaScriptã§å‹•çš„ã«è¡¨ç¤º -->
                </div>
                <div class="modal-actions">
                    <button class="action-btn" id="exportResultsBtn">ğŸ“¤ Export Results</button>
                    <button class="action-btn" id="copySummaryBtn">ğŸ“‹ Copy Summary</button>
                    <button class="action-btn primary" id="closeResultBtn">âœ… Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/app.js"></script>
</body>
</html>