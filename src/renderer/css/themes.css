/* =================================================================
   Multi Grep Replacer - テーマスタイル定義
   
   Purpose: ライト/ダークモード対応のテーマ変数管理
   Features:
   - CSS変数によるテーマ切り替え
   - システムテーマ連動対応
   - スムーズなテーマ遷移
   ================================================================= */

/* ライトテーマ（デフォルト） */
:root {
    /* 背景色 */
    --bg-primary: #ffffff;
    --bg-secondary: #f5f5f5;
    --bg-tertiary: #e8e8e8;
    --bg-hover: rgba(0, 0, 0, 0.04);
    --bg-active: rgba(0, 0, 0, 0.08);
    
    /* テキスト色 */
    --text-primary: #333333;
    --text-secondary: #666666;
    --text-tertiary: #999999;
    --text-muted: #bbbbbb;
    
    /* ボーダー色 */
    --border-primary: #e0e0e0;
    --border-secondary: #cccccc;
    --border-focus: #4a90e2;
    
    /* アクセントカラー */
    --accent-primary: #4a90e2;
    --accent-hover: #357abd;
    --accent-active: #2968a3;
    --accent-light: #e6f2ff;
    
    /* ステータスカラー */
    --success: #4caf50;
    --success-light: #e8f5e9;
    --warning: #ff9800;
    --warning-light: #fff3e0;
    --error: #f44336;
    --error-light: #ffebee;
    --info: #2196f3;
    --info-light: #e3f2fd;
    
    /* シャドウ */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.16);
    --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.19);
    --shadow-xl: 0 15px 35px rgba(0, 0, 0, 0.2);
    
    /* モーダルオーバーレイ */
    --overlay-bg: rgba(0, 0, 0, 0.5);
    
    /* コントロール */
    --input-bg: #ffffff;
    --input-border: #cccccc;
    --input-focus-border: #4a90e2;
    --button-bg: #f0f0f0;
    --button-hover-bg: #e0e0e0;
    --button-active-bg: #d0d0d0;
    
    /* コード/プレ */
    --code-bg: #f4f4f4;
    --code-text: #333333;
    
    /* スクロールバー */
    --scrollbar-bg: #f0f0f0;
    --scrollbar-thumb: #cccccc;
    --scrollbar-thumb-hover: #999999;
}

/* ダークテーマ */
[data-theme="dark"] {
    /* 背景色 */
    --bg-primary: #1e1e1e;
    --bg-secondary: #252525;
    --bg-tertiary: #2d2d2d;
    --bg-hover: rgba(255, 255, 255, 0.08);
    --bg-active: rgba(255, 255, 255, 0.16);
    
    /* テキスト色 */
    --text-primary: #ffffff;
    --text-secondary: #cccccc;
    --text-tertiary: #999999;
    --text-muted: #666666;
    
    /* ボーダー色 */
    --border-primary: #404040;
    --border-secondary: #555555;
    --border-focus: #5dade2;
    
    /* アクセントカラー */
    --accent-primary: #5dade2;
    --accent-hover: #48a1d9;
    --accent-active: #3498db;
    --accent-light: rgba(93, 173, 226, 0.15);
    
    /* ステータスカラー */
    --success: #66bb6a;
    --success-light: rgba(102, 187, 106, 0.15);
    --warning: #ffa726;
    --warning-light: rgba(255, 167, 38, 0.15);
    --error: #ef5350;
    --error-light: rgba(239, 83, 80, 0.15);
    --info: #42a5f5;
    --info-light: rgba(66, 165, 245, 0.15);
    
    /* シャドウ */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 15px 35px rgba(0, 0, 0, 0.6);
    
    /* モーダルオーバーレイ */
    --overlay-bg: rgba(0, 0, 0, 0.7);
    
    /* コントロール */
    --input-bg: #2d2d2d;
    --input-border: #404040;
    --input-focus-border: #5dade2;
    --button-bg: #404040;
    --button-hover-bg: #4a4a4a;
    --button-active-bg: #555555;
    
    /* コード/プレ */
    --code-bg: #2d2d2d;
    --code-text: #cccccc;
    
    /* スクロールバー */
    --scrollbar-bg: #2d2d2d;
    --scrollbar-thumb: #555555;
    --scrollbar-thumb-hover: #666666;
}

/* システムテーマ自動検出 */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) {
        /* ダークテーマの変数をここにコピー */
        --bg-primary: #1e1e1e;
        --bg-secondary: #252525;
        --bg-tertiary: #2d2d2d;
        --bg-hover: rgba(255, 255, 255, 0.08);
        --bg-active: rgba(255, 255, 255, 0.16);
        --text-primary: #ffffff;
        --text-secondary: #cccccc;
        --text-tertiary: #999999;
        --text-muted: #666666;
        --border-primary: #404040;
        --border-secondary: #555555;
        --border-focus: #5dade2;
        --accent-primary: #5dade2;
        --accent-hover: #48a1d9;
        --accent-active: #3498db;
        --accent-light: rgba(93, 173, 226, 0.15);
        --success: #66bb6a;
        --success-light: rgba(102, 187, 106, 0.15);
        --warning: #ffa726;
        --warning-light: rgba(255, 167, 38, 0.15);
        --error: #ef5350;
        --error-light: rgba(239, 83, 80, 0.15);
        --info: #42a5f5;
        --info-light: rgba(66, 165, 245, 0.15);
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
        --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.5);
        --shadow-xl: 0 15px 35px rgba(0, 0, 0, 0.6);
        --overlay-bg: rgba(0, 0, 0, 0.7);
        --input-bg: #2d2d2d;
        --input-border: #404040;
        --input-focus-border: #5dade2;
        --button-bg: #404040;
        --button-hover-bg: #4a4a4a;
        --button-active-bg: #555555;
        --code-bg: #2d2d2d;
        --code-text: #cccccc;
        --scrollbar-bg: #2d2d2d;
        --scrollbar-thumb: #555555;
        --scrollbar-thumb-hover: #666666;
    }
}

/* テーマ切り替えトランジション */
* {
    transition: background-color 0.3s ease,
                color 0.3s ease,
                border-color 0.3s ease,
                box-shadow 0.3s ease;
}

/* トランジションを無効にする要素 */
.no-transition,
.no-transition * {
    transition: none !important;
}

/* テーマ切り替えボタンスタイル */
.theme-toggle {
    position: fixed;
    top: 10px;
    right: 60px;
    width: 40px;
    height: 40px;
    border-radius: 8px;
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    transition: all 0.3s ease;
}

.theme-toggle:hover {
    background-color: var(--bg-tertiary);
    transform: scale(1.05);
}

.theme-toggle:active {
    transform: scale(0.95);
}

.theme-toggle svg {
    width: 20px;
    height: 20px;
    fill: var(--text-primary);
}

/* ライトモード時は月アイコン、ダークモード時は太陽アイコン */
[data-theme="light"] .theme-icon-dark,
[data-theme="dark"] .theme-icon-light,
:root:not([data-theme]) .theme-icon-dark {
    display: block;
}

[data-theme="light"] .theme-icon-light,
[data-theme="dark"] .theme-icon-dark,
:root:not([data-theme]) .theme-icon-light {
    display: none;
}

/* システムテーマ自動検出時の表示制御 */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) .theme-icon-light {
        display: block;
    }
    
    :root:not([data-theme]) .theme-icon-dark {
        display: none;
    }
}

/* 既存要素へのテーマ変数適用 */
body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
}

.container {
    background-color: var(--bg-primary);
}

.form-section {
    background-color: var(--bg-secondary);
    border-color: var(--border-primary);
}

input[type="text"],
input[type="number"],
textarea,
select {
    background-color: var(--input-bg);
    color: var(--text-primary);
    border-color: var(--input-border);
}

input[type="text"]:focus,
input[type="number"]:focus,
textarea:focus,
select:focus {
    border-color: var(--input-focus-border);
}

button {
    background-color: var(--button-bg);
    color: var(--text-primary);
    border-color: var(--border-primary);
}

button:hover {
    background-color: var(--button-hover-bg);
}

button:active {
    background-color: var(--button-active-bg);
}

button.primary {
    background-color: var(--accent-primary);
    color: #ffffff;
    border-color: var(--accent-primary);
}

button.primary:hover {
    background-color: var(--accent-hover);
    border-color: var(--accent-hover);
}

button.primary:active {
    background-color: var(--accent-active);
    border-color: var(--accent-active);
}

/* スクロールバーのスタイル */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: var(--scrollbar-bg);
}

::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
}

/* プログレスバーのテーマ対応 */
.progress-bar {
    background-color: var(--bg-tertiary);
}

.progress-fill {
    background-color: var(--accent-primary);
}

/* モーダルのテーマ対応 */
.modal-overlay {
    background-color: var(--overlay-bg);
}

.modal-content {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    box-shadow: var(--shadow-xl);
}

/* 結果表示のテーマ対応 */
.results-modal .file-item {
    background-color: var(--bg-secondary);
    border-color: var(--border-primary);
}

.results-modal .file-item:hover {
    background-color: var(--bg-hover);
}

/* エラー/成功メッセージのテーマ対応 */
.error-message {
    background-color: var(--error-light);
    color: var(--error);
    border-color: var(--error);
}

.success-message {
    background-color: var(--success-light);
    color: var(--success);
    border-color: var(--success);
}

/* ツールチップのテーマ対応 */
.tooltip {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-md);
}