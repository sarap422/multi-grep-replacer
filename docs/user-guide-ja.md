# Multi Grep Replacer ユーザーガイド

## 目次

1. [はじめに](#はじめに)
2. [インストール](#インストール)
3. [はじめての起動](#はじめての起動)
4. [基本操作](#基本操作)
5. [高度な機能](#高度な機能)
6. [トラブルシューティング](#トラブルシューティング)
7. [よくある質問](#よくある質問)

## はじめに

Multi Grep Replacerは、複数のファイルに対して複数の検索・置換操作を同時に実行できる強力なデスクトップアプリケーションです。Electronで構築されており、MacとWindowsの両方でシームレスに動作する現代的で応答性の高いインターフェースを提供します。

### 主な機能

- 🚀 **複数の置換ルール**: 複数の検索・置換パターンを順次実行
- 📁 **再帰ファイル検索**: サブディレクトリのファイルも自動的に処理
- 🎯 **ファイル拡張子フィルタ**: 特定のファイル形式をターゲット
- 💾 **設定管理**: 置換設定の保存と読み込み
- 🌙 **ダークモード対応**: システム設定に基づく自動テーマ切り替え
- ⚡ **高性能**: 1000以上のファイルを30秒以内で処理
- 🛡️ **安全な操作**: 実行前の変更プレビュー

## インストール

### macOS

1. [リリースページ](https://github.com/sarap422/multi-grep-replacer/releases)から最新の`MultiGrepReplacer-x.x.x.dmg`をダウンロード
2. ダウンロードした`.dmg`ファイルをダブルクリック
3. `Multi Grep Replacer`アプリをApplicationsフォルダにドラッグ
4. 初回起動時: アプリを右クリックして「開く」を選択してGatekeeperを回避

### Windows

1. [リリースページ](https://github.com/sarap422/multi-grep-replacer/releases)から最新の`MultiGrepReplacer-Setup-x.x.x.exe`をダウンロード
2. インストーラーを実行
3. インストールウィザードに従って進行
4. スタートメニューまたはデスクトップショートカットから起動

### Linux

1. お使いのディストリビューション用のパッケージをダウンロード:
   - Debian/Ubuntu用: `.deb`
   - Fedora/RHEL用: `.rpm`
   - 汎用Linux用: `.AppImage`
2. パッケージマネージャーでインストールするか、AppImageを直接実行

## はじめての起動

### 初回起動

Multi Grep Replacerを初めて起動すると、以下の主要セクションを持つメインウィンドウが表示されます:

![メインウィンドウ](images/main-window.png)

1. **対象フォルダ**: 処理するディレクトリを選択
2. **ファイル拡張子**: 含めるファイル形式のフィルタ
3. **置換ルール**: 検索・置換パターンを定義
4. **アクションボタン**: 設定の読み込み/保存と置換の実行

### はじめての置換

簡単な例を使って、CSSクラス名の更新を実行してみましょう:

1. **対象フォルダを選択**
   - "Browse..."ボタンをクリック
   - プロジェクトフォルダに移動
   - "Select Folder"をクリック

2. **ファイル拡張子を設定**
   - 拡張子フィールドに`.css,.html`と入力
   - すべてのテキストファイルを処理する場合は空白のまま

3. **置換ルールを追加**
   - "➕ Add new rule"ボタンをクリック
   - "From"フィールドに`old-class`と入力
   - "To"フィールドに`new-class`と入力

4. **プレビューと実行**
   - 下部のファイル数プレビューを確認
   - "🚀 Execute Replacement"をクリック
   - 完了ダイアログで結果を確認

## 基本操作

### 置換ルールの管理

#### ルールの追加
- "➕ Add new rule"をクリックして新しい置換パターンを作成
- 各ルールにはチェックボックスがあり、一時的に有効/無効を切り替え可能
- ルールは上から下の順序で実行されます

#### ルールの編集
- From/Toフィールドをクリックして編集
- タイピング中に自動的に変更が保存されます

#### ルールの削除
- 任意のルールの横にある"🗑️"ボタンをクリック

#### ルールの並び替え
- "↕️"ハンドルをドラッグしてルールを並び替え
- 順序が重要です - ルールは順次適用されます

### ファイルフィルタリング

#### 拡張子による絞り込み
```
.html,.css,.js,.php
```
- カンマ区切りリスト
- ドット（.）を含める
- すべてのファイルを対象とする場合は空にする

#### 自動除外
以下のディレクトリは自動的に除外されます:
- `node_modules/`
- `.git/`
- `dist/`
- `build/`
- `vendor/`

### 設定管理

#### 設定の保存
1. 置換ルールを設定
2. "💾 Save Config"をクリック
3. 保存場所と名前を選択
4. JSONファイルとして保存され、編集が容易

#### 設定の読み込み
1. "💾 Load Config"をクリック
2. 以前に保存した`.json`ファイルを選択
3. すべてのルールと設定が復元されます

#### 設定テンプレート
`config/sample-configs/`ディレクトリの既製テンプレートをチェック:
- `web-development.json`: 一般的なWeb開発用置換
- `css-modernization.json`: レガシーCSS構文の更新
- `javascript-refactoring.json`: 現代的なJavaScriptパターン

## 高度な機能

### キーボードショートカット

| ショートカット | アクション |
|----------|--------|
| `Ctrl/Cmd + S` | 設定を保存 |
| `Ctrl/Cmd + O` | 設定を読み込み |
| `Ctrl/Cmd + E` | 置換を実行 |
| `Ctrl/Cmd + N` | 新しいルールを追加 |
| `Ctrl/Cmd + ,` | 設定を開く |

### ドラッグ&ドロップ

- **フォルダ選択**: フォルダをウィンドウにドラッグして対象として設定
- **設定ファイル**: `.json`設定ファイルをドラッグして読み込み

### パフォーマンス最適化

アプリは自動的にファイルセットに基づいて最適化します:
- **ストリーミング処理**: 大きなファイル（>50MB）用
- **バッチ処理**: 多数の小さなファイル用
- **並列処理**: 複数のCPUコアを活用

### 進捗監視

実行中に以下が表示されます:
- リアルタイム進捗バー
- 現在処理中のファイル
- 変更数の実行カウント
- 経過時間
- 一時停止/停止コントロール

## トラブルシューティング

### よくある問題

#### "Permission Denied"エラー
**問題**: 特定のファイルを変更できない
**解決方法**: 
- ファイルの権限を確認
- 管理者として実行（Windows）
- ファイルが他のアプリケーションでロックされていないことを確認

#### ファイルが見つからない
**問題**: プレビューで0ファイルと表示される
**解決方法**:
- フォルダパスが正しいことを確認
- ファイル拡張子フィルタをチェック
- ファイルが除外ディレクトリにないことを確認

#### アプリケーションが起動しない
**問題**: 起動時にアプリがクラッシュ
**解決方法**:
- 設定を削除: `~/Library/Application Support/MultiGrepReplacer` (Mac)
- 設定を削除: `%APPDATA%/MultiGrepReplacer` (Windows)
- アプリケーションを再インストール

#### 処理が遅い
**問題**: 処理に時間がかかりすぎる
**解決方法**:
- メモリを空けるため他のアプリケーションを閉じる
- フォルダをより小さなバッチで処理
- 極端に大きなファイルがないかチェック

### エラーメッセージ

#### "Invalid replacement rule"
- FromとToの両方のフィールドに内容があることを確認
- 無効な文字がないかチェック

#### "File encoding not supported"
- アプリはUTF-8エンコードのファイルを期待
- 処理前にファイルをUTF-8に変換

#### "Memory limit exceeded"
- 大きなファイルを多数処理しようとしている
- バッチサイズを削減するか他のアプリケーションを閉じる

## よくある質問

### 一般的な質問

**Q: 正規表現を使用できますか？**
A: バージョン1.0では使用できません。将来のリリースで計画されています。

**Q: アンドゥ機能はありますか？**
A: 自動的なアンドゥ機能はありません。バージョン管理（Git）の使用やバックアップの作成をお勧めします。

**Q: どのファイル形式がサポートされていますか？**
A: テキストベースのファイルすべて（HTML、CSS、JS、PHP、TXT、MD、JSON、XMLなど）

**Q: ファイルサイズ制限はありますか？**
A: 100MBを超えるファイルはパフォーマンスの問題を引き起こす可能性があります。

### プラットフォーム固有

**Q: なぜmacOSで「未確認の開発者」と表示されるのですか？**
A: 初回起動時にアプリを右クリックして「開く」を選択してください。コード署名に取り組んでいます。

**Q: コマンドラインから使用できますか？**
A: 現在はできませんが、CLIサポートはロードマップに含まれています。

**Q: Apple Silicon Macで動作しますか？**
A: はい、IntelとApple Siliconの両方でネイティブに動作するユニバーサルバイナリを提供しています。

### データとプライバシー

**Q: データはどこかに送信されますか？**
A: いいえ。すべての処理はローカルマシン上で行われます。

**Q: ファイルは自動的にバックアップされますか？**
A: いいえ。バージョン管理または手動バックアップの使用をお勧めします。

**Q: 設定はどこに保存されますか？**
- Mac: `~/Library/Application Support/MultiGrepReplacer`
- Windows: `%APPDATA%/MultiGrepReplacer`
- Linux: `~/.config/MultiGrepReplacer`

## サポートを受ける

### サポートチャンネル

1. **GitHub Issues**: [バグ報告や機能要求](https://github.com/sarap422/multi-grep-replacer/issues)
2. **ドキュメント**: このガイドと[開発者ドキュメント](developer-guide.md)を確認
3. **コミュニティ**: GitHub Discussionsタブでディスカッションに参加

### 問題を報告する前に

1. FAQとトラブルシューティングセクションを確認
2. 最新バージョンを使用していることを確認
3. 問題を再現しようとする
4. 関連情報を収集:
   - OSバージョン
   - アプリバージョン
   - エラーメッセージ
   - 再現手順

### 貢献

貢献を歓迎します！ガイドラインは[CONTRIBUTING.md](../CONTRIBUTING.md)を参照してください。

---

*最終更新: 2025-08-18 | バージョン 1.0.0*